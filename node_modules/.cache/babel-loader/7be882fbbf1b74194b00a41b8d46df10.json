{"ast":null,"code":"import { transformPropOrder } from '../../render/utils/keys-transform.mjs';\nconst translateAlias = {\n  x: \"translateX\",\n  y: \"translateY\",\n  z: \"translateZ\",\n  transformPerspective: \"perspective\"\n};\n\nfunction buildTransform(state) {\n  let transform = \"\";\n  let transformIsDefault = true;\n  /**\n   * Loop over all possible transforms in order, adding the ones that\n   * are present to the transform string.\n   */\n\n  for (let i = 0; i < transformPropOrder.length; i++) {\n    const key = transformPropOrder[i];\n    const value = state.latest[key];\n    if (value === undefined) continue;\n    let valueIsDefault = true;\n\n    if (typeof value === \"number\") {\n      valueIsDefault = value === (key.startsWith(\"scale\") ? 1 : 0);\n    } else {\n      const parsed = parseFloat(value);\n      valueIsDefault = key.startsWith(\"scale\") ? parsed === 1 : parsed === 0;\n    }\n\n    if (!valueIsDefault) {\n      transformIsDefault = false;\n      const transformName = translateAlias[key] || key;\n      const valueToRender = state.latest[key];\n      transform += `${transformName}(${valueToRender}) `;\n    }\n  }\n\n  return transformIsDefault ? \"none\" : transform.trim();\n}\n\nexport { buildTransform };","map":{"version":3,"mappings":";AAGA,MAAMA,cAAc,GAAG;EACnBC,CAAC,EAAE,YADgB;EAEnBC,CAAC,EAAE,YAFgB;EAGnBC,CAAC,EAAE,YAHgB;EAInBC,oBAAoB,EAAE;AAJH,CAAvB;;AAOM,SAAUC,cAAV,CAAyBC,KAAzB,EAAgD;EAClD,IAAIC,SAAS,GAAG,EAAhB;EACA,IAAIC,kBAAkB,GAAG,IAAzB;EAEA;;;AAGG;;EACH,KAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGC,kBAAkB,CAACC,MAAvC,EAA+CF,CAAC,EAAhD,EAAoD;IAChD,MAAMG,GAAG,GAAGF,kBAAkB,CAACD,CAAD,CAA9B;IACA,MAAMI,KAAK,GAAGP,KAAK,CAACQ,MAAN,CAAaF,GAAb,CAAd;IAEA,IAAIC,KAAK,KAAKE,SAAd,EAAyB;IAEzB,IAAIC,cAAc,GAAG,IAArB;;IACA,IAAI,OAAOH,KAAP,KAAiB,QAArB,EAA+B;MAC3BG,cAAc,GAAGH,KAAK,MAAMD,GAAG,CAACK,UAAJ,CAAe,OAAf,IAA0B,CAA1B,GAA8B,CAApC,CAAtB;IACH,CAFD,MAEO;MACH,MAAMC,MAAM,GAAGC,UAAU,CAACN,KAAD,CAAzB;MACAG,cAAc,GAAGJ,GAAG,CAACK,UAAJ,CAAe,OAAf,IAA0BC,MAAM,KAAK,CAArC,GAAyCA,MAAM,KAAK,CAArE;IACH;;IAED,IAAI,CAACF,cAAL,EAAqB;MACjBR,kBAAkB,GAAG,KAArB;MACA,MAAMY,aAAa,GAAGpB,cAAc,CAACY,GAAD,CAAd,IAAuBA,GAA7C;MACA,MAAMS,aAAa,GAAGf,KAAK,CAACQ,MAAN,CAAaF,GAAb,CAAtB;MACAL,SAAS,IAAO,gBAAiB,iBAAa,IAA9C;IACH;EACJ;;EAED,OAAOC,kBAAkB,GAAG,MAAH,GAAYD,SAAS,CAACe,IAAV,EAArC;AACJ","names":["translateAlias","x","y","z","transformPerspective","buildTransform","state","transform","transformIsDefault","i","transformPropOrder","length","key","value","latest","undefined","valueIsDefault","startsWith","parsed","parseFloat","transformName","valueToRender","trim"],"sources":["C:\\Projects\\TVMazee\\node_modules\\motion-dom\\src\\effects\\style\\transform.ts"],"sourcesContent":["import { transformPropOrder } from \"../../render/utils/keys-transform\"\nimport { MotionValueState } from \"../MotionValueState\"\n\nconst translateAlias = {\n    x: \"translateX\",\n    y: \"translateY\",\n    z: \"translateZ\",\n    transformPerspective: \"perspective\",\n}\n\nexport function buildTransform(state: MotionValueState) {\n    let transform = \"\"\n    let transformIsDefault = true\n\n    /**\n     * Loop over all possible transforms in order, adding the ones that\n     * are present to the transform string.\n     */\n    for (let i = 0; i < transformPropOrder.length; i++) {\n        const key = transformPropOrder[i] as keyof typeof translateAlias\n        const value = state.latest[key]\n\n        if (value === undefined) continue\n\n        let valueIsDefault = true\n        if (typeof value === \"number\") {\n            valueIsDefault = value === (key.startsWith(\"scale\") ? 1 : 0)\n        } else {\n            const parsed = parseFloat(value)\n            valueIsDefault = key.startsWith(\"scale\") ? parsed === 1 : parsed === 0\n        }\n\n        if (!valueIsDefault) {\n            transformIsDefault = false\n            const transformName = translateAlias[key] || key\n            const valueToRender = state.latest[key]\n            transform += `${transformName}(${valueToRender}) `\n        }\n    }\n\n    return transformIsDefault ? \"none\" : transform.trim()\n}\n"]},"metadata":{},"sourceType":"module"}