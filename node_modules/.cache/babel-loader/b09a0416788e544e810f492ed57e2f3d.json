{"ast":null,"code":"/**\n * Creates a `transformPagePoint` function that accounts for SVG viewBox scaling.\n *\n * When dragging SVG elements inside an SVG with a viewBox that differs from\n * the rendered dimensions (e.g., `viewBox=\"0 0 100 100\"` but rendered at 500x500 pixels),\n * pointer coordinates need to be transformed to match the SVG's coordinate system.\n *\n * @example\n * ```jsx\n * function App() {\n *   const svgRef = useRef<SVGSVGElement>(null)\n *\n *   return (\n *     <MotionConfig transformPagePoint={transformViewBoxPoint(svgRef)}>\n *       <svg ref={svgRef} viewBox=\"0 0 100 100\" width={500} height={500}>\n *         <motion.rect drag width={10} height={10} />\n *       </svg>\n *     </MotionConfig>\n *   )\n * }\n * ```\n *\n * @param svgRef - A React ref to the SVG element\n * @returns A transformPagePoint function for use with MotionConfig\n *\n * @public\n */\nfunction transformViewBoxPoint(svgRef) {\n  return point => {\n    const svg = svgRef.current;\n\n    if (!svg) {\n      return point;\n    } // Get the viewBox attribute\n\n\n    const viewBox = svg.viewBox?.baseVal;\n\n    if (!viewBox || viewBox.width === 0 && viewBox.height === 0) {\n      // No viewBox or empty viewBox - no transformation needed\n      return point;\n    } // Get the rendered dimensions of the SVG\n\n\n    const bbox = svg.getBoundingClientRect();\n\n    if (bbox.width === 0 || bbox.height === 0) {\n      return point;\n    } // Calculate scale factors\n\n\n    const scaleX = viewBox.width / bbox.width;\n    const scaleY = viewBox.height / bbox.height; // Get the SVG's position on the page\n\n    const svgX = bbox.left + window.scrollX;\n    const svgY = bbox.top + window.scrollY; // Transform the point:\n    // 1. Calculate position relative to SVG\n    // 2. Scale by viewBox/viewport ratio\n    // 3. Add back the SVG position (but in SVG coordinates)\n\n    return {\n      x: (point.x - svgX) * scaleX + svgX,\n      y: (point.y - svgY) * scaleY + svgY\n    };\n  };\n}\n\nexport { transformViewBoxPoint };","map":{"version":3,"mappings":"AAGA;;;;;;;;;;;;;;;;;;;;;;;;;;AA0BG;AACG,SAAUA,qBAAV,CACFC,MADE,EACqC;EAEvC,OAAQC,KAAD,IAAwB;IAC3B,MAAMC,GAAG,GAAGF,MAAM,CAACG,OAAnB;;IACA,IAAI,CAACD,GAAL,EAAU;MACN,OAAOD,KAAP;IACH,CAJ0B;;;IAO3B,MAAMG,OAAO,GAAGF,GAAG,CAACE,OAAJ,EAAaC,OAA7B;;IACA,IAAI,CAACD,OAAD,IAAaA,OAAO,CAACE,KAAR,KAAkB,CAAlB,IAAuBF,OAAO,CAACG,MAAR,KAAmB,CAA3D,EAA+D;;MAE3D,OAAON,KAAP;IACH,CAX0B;;;IAc3B,MAAMO,IAAI,GAAGN,GAAG,CAACO,qBAAJ,EAAb;;IACA,IAAID,IAAI,CAACF,KAAL,KAAe,CAAf,IAAoBE,IAAI,CAACD,MAAL,KAAgB,CAAxC,EAA2C;MACvC,OAAON,KAAP;IACH,CAjB0B;;;IAoB3B,MAAMS,MAAM,GAAGN,OAAO,CAACE,KAAR,GAAgBE,IAAI,CAACF,KAApC;IACA,MAAMK,MAAM,GAAGP,OAAO,CAACG,MAAR,GAAiBC,IAAI,CAACD,MAArC,CArB2B;;IAwB3B,MAAMK,IAAI,GAAGJ,IAAI,CAACK,IAAL,GAAYC,MAAM,CAACC,OAAhC;IACA,MAAMC,IAAI,GAAGR,IAAI,CAACS,GAAL,GAAWH,MAAM,CAACI,OAA/B,CAzB2B;;;;;IA+B3B,OAAO;MACHC,CAAC,EAAE,CAAClB,KAAK,CAACkB,CAAN,GAAUP,IAAX,IAAmBF,MAAnB,GAA4BE,IAD5B;MAEHQ,CAAC,EAAE,CAACnB,KAAK,CAACmB,CAAN,GAAUJ,IAAX,IAAmBL,MAAnB,GAA4BK;IAF5B,CAAP;EAIH,CAnCD;AAoCJ","names":["transformViewBoxPoint","svgRef","point","svg","current","viewBox","baseVal","width","height","bbox","getBoundingClientRect","scaleX","scaleY","svgX","left","window","scrollX","svgY","top","scrollY","x","y"],"sources":["C:\\Projects\\TVMazee\\node_modules\\framer-motion\\src\\utils\\transform-viewbox-point.ts"],"sourcesContent":["import type { Point, TransformPoint } from \"motion-utils\"\nimport type { RefObject } from \"react\"\n\n/**\n * Creates a `transformPagePoint` function that accounts for SVG viewBox scaling.\n *\n * When dragging SVG elements inside an SVG with a viewBox that differs from\n * the rendered dimensions (e.g., `viewBox=\"0 0 100 100\"` but rendered at 500x500 pixels),\n * pointer coordinates need to be transformed to match the SVG's coordinate system.\n *\n * @example\n * ```jsx\n * function App() {\n *   const svgRef = useRef<SVGSVGElement>(null)\n *\n *   return (\n *     <MotionConfig transformPagePoint={transformViewBoxPoint(svgRef)}>\n *       <svg ref={svgRef} viewBox=\"0 0 100 100\" width={500} height={500}>\n *         <motion.rect drag width={10} height={10} />\n *       </svg>\n *     </MotionConfig>\n *   )\n * }\n * ```\n *\n * @param svgRef - A React ref to the SVG element\n * @returns A transformPagePoint function for use with MotionConfig\n *\n * @public\n */\nexport function transformViewBoxPoint(\n    svgRef: RefObject<SVGSVGElement | null>\n): TransformPoint {\n    return (point: Point): Point => {\n        const svg = svgRef.current\n        if (!svg) {\n            return point\n        }\n\n        // Get the viewBox attribute\n        const viewBox = svg.viewBox?.baseVal\n        if (!viewBox || (viewBox.width === 0 && viewBox.height === 0)) {\n            // No viewBox or empty viewBox - no transformation needed\n            return point\n        }\n\n        // Get the rendered dimensions of the SVG\n        const bbox = svg.getBoundingClientRect()\n        if (bbox.width === 0 || bbox.height === 0) {\n            return point\n        }\n\n        // Calculate scale factors\n        const scaleX = viewBox.width / bbox.width\n        const scaleY = viewBox.height / bbox.height\n\n        // Get the SVG's position on the page\n        const svgX = bbox.left + window.scrollX\n        const svgY = bbox.top + window.scrollY\n\n        // Transform the point:\n        // 1. Calculate position relative to SVG\n        // 2. Scale by viewBox/viewport ratio\n        // 3. Add back the SVG position (but in SVG coordinates)\n        return {\n            x: (point.x - svgX) * scaleX + svgX,\n            y: (point.y - svgY) * scaleY + svgY,\n        }\n    }\n}\n"]},"metadata":{},"sourceType":"module"}