{"ast":null,"code":"import { time } from '../../frameloop/sync-time.mjs';\nimport { frame, cancelFrame, frameData } from '../../frameloop/frame.mjs';\n\nconst frameloopDriver = update => {\n  const passTimestamp = _ref => {\n    let {\n      timestamp\n    } = _ref;\n    return update(timestamp);\n  };\n\n  return {\n    start: function () {\n      let keepAlive = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n      return frame.update(passTimestamp, keepAlive);\n    },\n    stop: () => cancelFrame(passTimestamp),\n\n    /**\n     * If we're processing this frame we can use the\n     * framelocked timestamp to keep things in sync.\n     */\n    now: () => frameData.isProcessing ? frameData.timestamp : time.now()\n  };\n};\n\nexport { frameloopDriver };","map":{"version":3,"mappings":";;;AAKa,qBAAe,GAAYA,MAAD,IAAW;EAC9C,MAAMC,aAAa,GAAG;IAAA,IAAC;MAAEC;IAAF,CAAD;IAAA,OAA8BF,MAAM,CAACE,SAAD,CAApC;EAAA,CAAtB;;EAEA,OAAO;IACHC,KAAK,EAAE;MAAA,IAACC,SAAD,uEAAa,IAAb;MAAA,OAAsBC,KAAK,CAACL,MAAN,CAAaC,aAAb,EAA4BG,SAA5B,CAAtB;IAAA,CADJ;IAEHE,IAAI,EAAE,MAAMC,WAAW,CAACN,aAAD,CAFpB;;IAGH;;;AAGG;IACHO,GAAG,EAAE,MAAOC,SAAS,CAACC,YAAV,GAAyBD,SAAS,CAACP,SAAnC,GAA+CS,IAAI,CAACH,GAAL;EAPxD,CAAP;AASJ,CAZa","names":["update","passTimestamp","timestamp","start","keepAlive","frame","stop","cancelFrame","now","frameData","isProcessing","time"],"sources":["C:\\Projects\\TVMazee\\node_modules\\motion-dom\\src\\animation\\drivers\\frame.ts"],"sourcesContent":["import { cancelFrame, frame, frameData } from \"../../frameloop\"\nimport { time } from \"../../frameloop/sync-time\"\nimport { FrameData } from \"../../frameloop/types\"\nimport { Driver } from \"./types\"\n\nexport const frameloopDriver: Driver = (update) => {\n    const passTimestamp = ({ timestamp }: FrameData) => update(timestamp)\n\n    return {\n        start: (keepAlive = true) => frame.update(passTimestamp, keepAlive),\n        stop: () => cancelFrame(passTimestamp),\n        /**\n         * If we're processing this frame we can use the\n         * framelocked timestamp to keep things in sync.\n         */\n        now: () => (frameData.isProcessing ? frameData.timestamp : time.now()),\n    }\n}\n"]},"metadata":{},"sourceType":"module"}