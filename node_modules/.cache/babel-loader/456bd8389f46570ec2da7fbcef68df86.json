{"ast":null,"code":"import { resolveVariant } from '../../render/utils/resolve-dynamic-variants.mjs';\nimport { animateTarget } from './visual-element-target.mjs';\nimport { animateVariant } from './visual-element-variant.mjs';\n\nfunction animateVisualElement(visualElement, definition) {\n  let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  visualElement.notify(\"AnimationStart\", definition);\n  let animation;\n\n  if (Array.isArray(definition)) {\n    const animations = definition.map(variant => animateVariant(visualElement, variant, options));\n    animation = Promise.all(animations);\n  } else if (typeof definition === \"string\") {\n    animation = animateVariant(visualElement, definition, options);\n  } else {\n    const resolvedDefinition = typeof definition === \"function\" ? resolveVariant(visualElement, definition, options.custom) : definition;\n    animation = Promise.all(animateTarget(visualElement, resolvedDefinition, options));\n  }\n\n  return animation.then(() => {\n    visualElement.notify(\"AnimationComplete\", definition);\n  });\n}\n\nexport { animateVisualElement };","map":{"version":3,"mappings":";;;;AAOM,SAAUA,oBAAV,CACFC,aADE,EAEFC,UAFE,EAGyC;EAAA,IAA3CC,OAA2C,uEAAF,EAAE;EAE3CF,aAAa,CAACG,MAAd,CAAqB,gBAArB,EAAuCF,UAAvC;EACA,IAAIG,SAAJ;;EAEA,IAAIC,KAAK,CAACC,OAAN,CAAcL,UAAd,CAAJ,EAA+B;IAC3B,MAAMM,UAAU,GAAGN,UAAU,CAACO,GAAX,CAAgBC,OAAD,IAC9BC,cAAc,CAACV,aAAD,EAAgBS,OAAhB,EAAyBP,OAAzB,CADC,CAAnB;IAGAE,SAAS,GAAGO,OAAO,CAACC,GAAR,CAAYL,UAAZ,CAAZ;EACH,CALD,MAKO,IAAI,OAAON,UAAP,KAAsB,QAA1B,EAAoC;IACvCG,SAAS,GAAGM,cAAc,CAACV,aAAD,EAAgBC,UAAhB,EAA4BC,OAA5B,CAA1B;EACH,CAFM,MAEA;IACH,MAAMW,kBAAkB,GACpB,OAAOZ,UAAP,KAAsB,UAAtB,GACMa,cAAc,CAACd,aAAD,EAAgBC,UAAhB,EAA4BC,OAAO,CAACa,MAApC,CADpB,GAEMd,UAHV;IAKAG,SAAS,GAAGO,OAAO,CAACC,GAAR,CACRI,aAAa,CAAChB,aAAD,EAAgBa,kBAAhB,EAAoCX,OAApC,CADL,CAAZ;EAGH;;EAED,OAAOE,SAAS,CAACa,IAAV,CAAe,MAAK;IACvBjB,aAAa,CAACG,MAAd,CAAqB,mBAArB,EAA0CF,UAA1C;EACH,CAFM,CAAP;AAGJ","names":["animateVisualElement","visualElement","definition","options","notify","animation","Array","isArray","animations","map","variant","animateVariant","Promise","all","resolvedDefinition","resolveVariant","custom","animateTarget","then"],"sources":["C:\\Projects\\TVMazee\\node_modules\\motion-dom\\src\\animation\\interfaces\\visual-element.ts"],"sourcesContent":["import { resolveVariant } from \"../../render/utils/resolve-dynamic-variants\"\nimport type { AnimationDefinition } from \"../../node/types\"\nimport type { VisualElement } from \"../../render/VisualElement\"\nimport type { VisualElementAnimationOptions } from \"./types\"\nimport { animateTarget } from \"./visual-element-target\"\nimport { animateVariant } from \"./visual-element-variant\"\n\nexport function animateVisualElement(\n    visualElement: VisualElement,\n    definition: AnimationDefinition,\n    options: VisualElementAnimationOptions = {}\n) {\n    visualElement.notify(\"AnimationStart\", definition)\n    let animation: Promise<any>\n\n    if (Array.isArray(definition)) {\n        const animations = definition.map((variant) =>\n            animateVariant(visualElement, variant, options)\n        )\n        animation = Promise.all(animations)\n    } else if (typeof definition === \"string\") {\n        animation = animateVariant(visualElement, definition, options)\n    } else {\n        const resolvedDefinition =\n            typeof definition === \"function\"\n                ? resolveVariant(visualElement, definition, options.custom)\n                : definition\n\n        animation = Promise.all(\n            animateTarget(visualElement, resolvedDefinition, options)\n        )\n    }\n\n    return animation.then(() => {\n        visualElement.notify(\"AnimationComplete\", definition)\n    })\n}\n"]},"metadata":{},"sourceType":"module"}