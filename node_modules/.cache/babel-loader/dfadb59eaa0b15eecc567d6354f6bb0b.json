{"ast":null,"code":"import { isMotionValue } from '../../value/utils/is-motion-value.mjs';\nimport { DOMKeyframesResolver } from '../../animation/keyframes/DOMKeyframesResolver.mjs';\nimport { VisualElement } from '../VisualElement.mjs';\n\nclass DOMVisualElement extends VisualElement {\n  constructor() {\n    super(...arguments);\n    this.KeyframeResolver = DOMKeyframesResolver;\n  }\n\n  sortInstanceNodePosition(a, b) {\n    /**\n     * compareDocumentPosition returns a bitmask, by using the bitwise &\n     * we're returning true if 2 in that bitmask is set to true. 2 is set\n     * to true if b preceeds a.\n     */\n    return a.compareDocumentPosition(b) & 2 ? 1 : -1;\n  }\n\n  getBaseTargetFromProps(props, key) {\n    const style = props.style;\n    return style ? style[key] : undefined;\n  }\n\n  removeValueFromRenderState(key, _ref) {\n    let {\n      vars,\n      style\n    } = _ref;\n    delete vars[key];\n    delete style[key];\n  }\n\n  handleChildMotionValue() {\n    if (this.childSubscription) {\n      this.childSubscription();\n      delete this.childSubscription;\n    }\n\n    const {\n      children\n    } = this.props;\n\n    if (isMotionValue(children)) {\n      this.childSubscription = children.on(\"change\", latest => {\n        if (this.current) {\n          this.current.textContent = `${latest}`;\n        }\n      });\n    }\n  }\n\n}\n\nexport { DOMVisualElement };","map":{"version":3,"mappings":";;;;AASM,MAAgBA,gBAAhB,SAIIC,aAJJ,CAI2C;EAJjDC;;IA8BI,KAAgBC,gBAAhB,GAAmBC,oBAAnB;EAkBH;;EA3CGC,wBAAwB,CAACC,CAAD,EAAcC,CAAd,EAAyB;IAC7C;;;;AAIG;IACH,OAAOD,CAAC,CAACE,uBAAF,CAA0BD,CAA1B,IAA+B,CAA/B,GAAmC,CAAnC,GAAuC,CAAC,CAA/C;EACH;;EAEDE,sBAAsB,CAClBC,KADkB,EAElBC,GAFkB,EAEP;IAEX,MAAMC,KAAK,GAAIF,KAAqD,CAACE,KAArE;IACA,OAAOA,KAAK,GAAIA,KAAK,CAACD,GAAD,CAAT,GAA4BE,SAAxC;EACH;;EAEDC,0BAA0B,CACtBH,GADsB,QAEU;IAAA,IAAhC;MAAEI,IAAF;MAAQH;IAAR,CAAgC;IAEhC,OAAOG,IAAI,CAACJ,GAAD,CAAX;IACA,OAAOC,KAAK,CAACD,GAAD,CAAZ;EACH;;EAKDK,sBAAsB;IAClB,IAAI,KAAKC,iBAAT,EAA4B;MACxB,KAAKA,iBAAL;MACA,OAAO,KAAKA,iBAAZ;IACH;;IAED,MAAM;MAAEC;IAAF,IAAe,KAAKR,KAA1B;;IACA,IAAIS,aAAa,CAACD,QAAD,CAAjB,EAA6B;MACzB,KAAKD,iBAAL,GAAyBC,QAAQ,CAACE,EAAT,CAAY,QAAZ,EAAuBC,MAAD,IAAW;QACtD,IAAI,KAAKC,OAAT,EAAkB;UACd,KAAKA,OAAL,CAAaC,WAAb,GAA8B,SAAM,EAApC;QACH;MACJ,CAJwB,CAAzB;IAKH;EACJ;;AA3C4C","names":["DOMVisualElement","VisualElement","constructor","KeyframeResolver","DOMKeyframesResolver","sortInstanceNodePosition","a","b","compareDocumentPosition","getBaseTargetFromProps","props","key","style","undefined","removeValueFromRenderState","vars","handleChildMotionValue","childSubscription","children","isMotionValue","on","latest","current","textContent"],"sources":["C:\\Projects\\TVMazee\\node_modules\\motion-dom\\src\\render\\dom\\DOMVisualElement.ts"],"sourcesContent":["import { isMotionValue } from \"../../value/utils/is-motion-value\"\nimport type { MotionValue } from \"../../value\"\nimport type { AnyResolvedKeyframe } from \"../../animation/types\"\nimport { DOMKeyframesResolver } from \"../../animation/keyframes/DOMKeyframesResolver\"\nimport type { MotionNodeOptions } from \"../../node/types\"\nimport type { DOMVisualElementOptions } from \"./types\"\nimport type { HTMLRenderState } from \"../html/types\"\nimport { VisualElement, MotionStyle } from \"../VisualElement\"\n\nexport abstract class DOMVisualElement<\n    Instance extends HTMLElement | SVGElement = HTMLElement,\n    State extends HTMLRenderState = HTMLRenderState,\n    Options extends DOMVisualElementOptions = DOMVisualElementOptions\n> extends VisualElement<Instance, State, Options> {\n    sortInstanceNodePosition(a: Instance, b: Instance): number {\n        /**\n         * compareDocumentPosition returns a bitmask, by using the bitwise &\n         * we're returning true if 2 in that bitmask is set to true. 2 is set\n         * to true if b preceeds a.\n         */\n        return a.compareDocumentPosition(b) & 2 ? 1 : -1\n    }\n\n    getBaseTargetFromProps(\n        props: MotionNodeOptions,\n        key: string\n    ): AnyResolvedKeyframe | MotionValue<any> | undefined {\n        const style = (props as MotionNodeOptions & { style?: MotionStyle }).style\n        return style ? (style[key] as string) : undefined\n    }\n\n    removeValueFromRenderState(\n        key: string,\n        { vars, style }: HTMLRenderState\n    ): void {\n        delete vars[key]\n        delete style[key]\n    }\n\n    KeyframeResolver = DOMKeyframesResolver\n\n    childSubscription?: VoidFunction\n    handleChildMotionValue() {\n        if (this.childSubscription) {\n            this.childSubscription()\n            delete this.childSubscription\n        }\n\n        const { children } = this.props as MotionNodeOptions & { children?: MotionValue | any }\n        if (isMotionValue(children)) {\n            this.childSubscription = children.on(\"change\", (latest) => {\n                if (this.current) {\n                    this.current.textContent = `${latest}`\n                }\n            })\n        }\n    }\n}\n"]},"metadata":{},"sourceType":"module"}