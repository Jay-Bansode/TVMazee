{"ast":null,"code":"import { addUniqueItem, removeItem } from 'motion-utils';\nimport { compareByDepth } from './compare-by-depth.mjs';\n\nclass FlatTree {\n  constructor() {\n    this.children = [];\n    this.isDirty = false;\n  }\n\n  add(child) {\n    addUniqueItem(this.children, child);\n    this.isDirty = true;\n  }\n\n  remove(child) {\n    removeItem(this.children, child);\n    this.isDirty = true;\n  }\n\n  forEach(callback) {\n    this.isDirty && this.children.sort(compareByDepth);\n    this.isDirty = false;\n    this.children.forEach(callback);\n  }\n\n}\n\nexport { FlatTree };","map":{"version":3,"mappings":";;;MAGaA,SAAQ;EAArBC;IACY,KAAQC,QAAR,GAAwB,EAAxB;IAEA,KAAOC,OAAP,GAAmB,KAAnB;EAiBX;;EAfGC,GAAG,CAACC,KAAD,EAAiB;IAChBC,aAAa,CAAC,KAAKJ,QAAN,EAAgBG,KAAhB,CAAb;IACA,KAAKF,OAAL,GAAe,IAAf;EACH;;EAEDI,MAAM,CAACF,KAAD,EAAiB;IACnBG,UAAU,CAAC,KAAKN,QAAN,EAAgBG,KAAhB,CAAV;IACA,KAAKF,OAAL,GAAe,IAAf;EACH;;EAEDM,OAAO,CAACC,QAAD,EAAqC;IACxC,KAAKP,OAAL,IAAgB,KAAKD,QAAL,CAAcS,IAAd,CAAmBC,cAAnB,CAAhB;IACA,KAAKT,OAAL,GAAe,KAAf;IACA,KAAKD,QAAL,CAAcO,OAAd,CAAsBC,QAAtB;EACH;;AAnBgB","names":["FlatTree","constructor","children","isDirty","add","child","addUniqueItem","remove","removeItem","forEach","callback","sort","compareByDepth"],"sources":["C:\\Projects\\TVMazee\\node_modules\\motion-dom\\src\\projection\\utils\\flat-tree.ts"],"sourcesContent":["import { addUniqueItem, removeItem } from \"motion-utils\"\nimport { compareByDepth, WithDepth } from \"./compare-by-depth\"\n\nexport class FlatTree {\n    private children: WithDepth[] = []\n\n    private isDirty: boolean = false\n\n    add(child: WithDepth) {\n        addUniqueItem(this.children, child)\n        this.isDirty = true\n    }\n\n    remove(child: WithDepth) {\n        removeItem(this.children, child)\n        this.isDirty = true\n    }\n\n    forEach(callback: (child: WithDepth) => void) {\n        this.isDirty && this.children.sort(compareByDepth)\n        this.isDirty = false\n        this.children.forEach(callback)\n    }\n}\n"]},"metadata":{},"sourceType":"module"}