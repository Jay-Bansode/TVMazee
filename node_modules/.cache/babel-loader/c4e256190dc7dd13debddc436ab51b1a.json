{"ast":null,"code":"function getValueState(visualElement) {\n  const state = [{}, {}];\n  visualElement?.values.forEach((value, key) => {\n    state[0][key] = value.get();\n    state[1][key] = value.getVelocity();\n  });\n  return state;\n}\n\nfunction resolveVariantFromProps(props, definition, custom, visualElement) {\n  /**\n   * If the variant definition is a function, resolve.\n   */\n  if (typeof definition === \"function\") {\n    const [current, velocity] = getValueState(visualElement);\n    definition = definition(custom !== undefined ? custom : props.custom, current, velocity);\n  }\n  /**\n   * If the variant definition is a variant label, or\n   * the function returned a variant label, resolve.\n   */\n\n\n  if (typeof definition === \"string\") {\n    definition = props.variants && props.variants[definition];\n  }\n  /**\n   * At this point we've resolved both functions and variant labels,\n   * but the resolved variant label might itself have been a function.\n   * If so, resolve. This can only have returned a valid target object.\n   */\n\n\n  if (typeof definition === \"function\") {\n    const [current, velocity] = getValueState(visualElement);\n    definition = definition(custom !== undefined ? custom : props.custom, current, velocity);\n  }\n\n  return definition;\n}\n\nexport { resolveVariantFromProps };","map":{"version":3,"mappings":"AAQA,SAASA,aAAT,CAAuBC,aAAvB,EAA0C;EACtC,MAAMC,KAAK,GAAqC,CAAC,EAAD,EAAK,EAAL,CAAhD;EAEAD,aAAa,EAAEE,MAAf,CAAsBC,OAAtB,CAA8B,CAACC,KAAD,EAAaC,GAAb,KAA4B;IACtDJ,KAAK,CAAC,CAAD,CAAL,CAASI,GAAT,IAAgBD,KAAK,CAACE,GAAN,EAAhB;IACAL,KAAK,CAAC,CAAD,CAAL,CAASI,GAAT,IAAgBD,KAAK,CAACG,WAAN,EAAhB;EACH,CAHD;EAKA,OAAON,KAAP;AACH;;AAcK,SAAUO,uBAAV,CACFC,KADE,EAEFC,UAFE,EAGFC,MAHE,EAIFX,aAJE,EAIiB;EAEnB;;AAEG;EACH,IAAI,OAAOU,UAAP,KAAsB,UAA1B,EAAsC;IAClC,MAAM,CAACE,OAAD,EAAUC,QAAV,IAAsBd,aAAa,CAACC,aAAD,CAAzC;IACAU,UAAU,GAAGA,UAAU,CACnBC,MAAM,KAAKG,SAAX,GAAuBH,MAAvB,GAAgCF,KAAK,CAACE,MADnB,EAEnBC,OAFmB,EAGnBC,QAHmB,CAAvB;EAKH;EAED;;;AAGG;;;EACH,IAAI,OAAOH,UAAP,KAAsB,QAA1B,EAAoC;IAChCA,UAAU,GAAGD,KAAK,CAACM,QAAN,IAAkBN,KAAK,CAACM,QAAN,CAAeL,UAAf,CAA/B;EACH;EAED;;;;AAIG;;;EACH,IAAI,OAAOA,UAAP,KAAsB,UAA1B,EAAsC;IAClC,MAAM,CAACE,OAAD,EAAUC,QAAV,IAAsBd,aAAa,CAACC,aAAD,CAAzC;IACAU,UAAU,GAAGA,UAAU,CACnBC,MAAM,KAAKG,SAAX,GAAuBH,MAAvB,GAAgCF,KAAK,CAACE,MADnB,EAEnBC,OAFmB,EAGnBC,QAHmB,CAAvB;EAKH;;EAED,OAAOH,UAAP;AACJ","names":["getValueState","visualElement","state","values","forEach","value","key","get","getVelocity","resolveVariantFromProps","props","definition","custom","current","velocity","undefined","variants"],"sources":["C:\\Projects\\TVMazee\\node_modules\\motion-dom\\src\\render\\utils\\resolve-variants.ts"],"sourcesContent":["import type {\n    AnimationDefinition,\n    MotionNodeOptions,\n    TargetAndTransition,\n    TargetResolver,\n} from \"../../node/types\"\nimport type { ResolvedValues } from \"../types\"\n\nfunction getValueState(visualElement?: any): [ResolvedValues, ResolvedValues] {\n    const state: [ResolvedValues, ResolvedValues] = [{}, {}]\n\n    visualElement?.values.forEach((value: any, key: string) => {\n        state[0][key] = value.get()\n        state[1][key] = value.getVelocity()\n    })\n\n    return state\n}\n\nexport function resolveVariantFromProps(\n    props: MotionNodeOptions,\n    definition: TargetAndTransition | TargetResolver,\n    custom?: any,\n    visualElement?: any\n): TargetAndTransition\nexport function resolveVariantFromProps(\n    props: MotionNodeOptions,\n    definition?: AnimationDefinition,\n    custom?: any,\n    visualElement?: any\n): undefined | TargetAndTransition\nexport function resolveVariantFromProps(\n    props: MotionNodeOptions,\n    definition?: AnimationDefinition,\n    custom?: any,\n    visualElement?: any\n) {\n    /**\n     * If the variant definition is a function, resolve.\n     */\n    if (typeof definition === \"function\") {\n        const [current, velocity] = getValueState(visualElement)\n        definition = definition(\n            custom !== undefined ? custom : props.custom,\n            current,\n            velocity\n        )\n    }\n\n    /**\n     * If the variant definition is a variant label, or\n     * the function returned a variant label, resolve.\n     */\n    if (typeof definition === \"string\") {\n        definition = props.variants && props.variants[definition]\n    }\n\n    /**\n     * At this point we've resolved both functions and variant labels,\n     * but the resolved variant label might itself have been a function.\n     * If so, resolve. This can only have returned a valid target object.\n     */\n    if (typeof definition === \"function\") {\n        const [current, velocity] = getValueState(visualElement)\n        definition = definition(\n            custom !== undefined ? custom : props.custom,\n            current,\n            velocity\n        )\n    }\n\n    return definition\n}\n"]},"metadata":{},"sourceType":"module"}