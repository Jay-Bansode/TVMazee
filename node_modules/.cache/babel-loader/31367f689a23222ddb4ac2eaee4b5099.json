{"ast":null,"code":"import { Feature, createAnimationState, isAnimationControls } from 'motion-dom';\n\nclass AnimationFeature extends Feature {\n  /**\n   * We dynamically generate the AnimationState manager as it contains a reference\n   * to the underlying animation library. We only want to load that if we load this,\n   * so people can optionally code split it out using the `m` component.\n   */\n  constructor(node) {\n    super(node);\n    node.animationState || (node.animationState = createAnimationState(node));\n  }\n\n  updateAnimationControlsSubscription() {\n    const {\n      animate\n    } = this.node.getProps();\n\n    if (isAnimationControls(animate)) {\n      this.unmountControls = animate.subscribe(this.node);\n    }\n  }\n  /**\n   * Subscribe any provided AnimationControls to the component's VisualElement\n   */\n\n\n  mount() {\n    this.updateAnimationControlsSubscription();\n  }\n\n  update() {\n    const {\n      animate\n    } = this.node.getProps();\n    const {\n      animate: prevAnimate\n    } = this.node.prevProps || {};\n\n    if (animate !== prevAnimate) {\n      this.updateAnimationControlsSubscription();\n    }\n  }\n\n  unmount() {\n    this.node.animationState.reset();\n    this.unmountControls?.();\n  }\n\n}\n\nexport { AnimationFeature };","map":{"version":3,"mappings":";;AAOM,MAAOA,gBAAP,SAAgCC,OAAhC,CAAgD;EAGlD;;;;AAIG;EACHC,YAAYC,IAAZ,EAA+B;IAC3B,MAAMA,IAAN;IACAA,IAAI,CAACC,cAAL,SAAI,CAACA,cAAL,GAAwBC,oBAAoB,CAACF,IAAD,CAA5C;EACH;;EAEDG,mCAAmC;IAC/B,MAAM;MAAEC;IAAF,IAAc,KAAKJ,IAAL,CAAUK,QAAV,EAApB;;IACA,IAAIC,mBAAmB,CAACF,OAAD,CAAvB,EAAkC;MAC9B,KAAKG,eAAL,GAAuBH,OAAO,CAACI,SAAR,CAAkB,KAAKR,IAAvB,CAAvB;IACH;EACJ;EAED;;AAEG;;;EACHS,KAAK;IACD,KAAKN,mCAAL;EACH;;EAEDO,MAAM;IACF,MAAM;MAAEN;IAAF,IAAc,KAAKJ,IAAL,CAAUK,QAAV,EAApB;IACA,MAAM;MAAED,OAAO,EAAEO;IAAX,IAA2B,KAAKX,IAAL,CAAUY,SAAV,IAAuB,EAAxD;;IACA,IAAIR,OAAO,KAAKO,WAAhB,EAA6B;MACzB,KAAKR,mCAAL;IACH;EACJ;;EAEDU,OAAO;IACH,KAAKb,IAAL,CAAUC,cAAV,CAA0Ba,KAA1B;IACA,KAAKP,eAAL;EACH;;AAtCiD","names":["AnimationFeature","Feature","constructor","node","animationState","createAnimationState","updateAnimationControlsSubscription","animate","getProps","isAnimationControls","unmountControls","subscribe","mount","update","prevAnimate","prevProps","unmount","reset"],"sources":["C:\\Projects\\TVMazee\\node_modules\\framer-motion\\src\\motion\\features\\animation\\index.ts"],"sourcesContent":["import {\n    createAnimationState,\n    Feature,\n    isAnimationControls,\n    type VisualElement,\n} from \"motion-dom\"\n\nexport class AnimationFeature extends Feature<unknown> {\n    unmountControls?: () => void\n\n    /**\n     * We dynamically generate the AnimationState manager as it contains a reference\n     * to the underlying animation library. We only want to load that if we load this,\n     * so people can optionally code split it out using the `m` component.\n     */\n    constructor(node: VisualElement) {\n        super(node)\n        node.animationState ||= createAnimationState(node)\n    }\n\n    updateAnimationControlsSubscription() {\n        const { animate } = this.node.getProps()\n        if (isAnimationControls(animate)) {\n            this.unmountControls = animate.subscribe(this.node)\n        }\n    }\n\n    /**\n     * Subscribe any provided AnimationControls to the component's VisualElement\n     */\n    mount() {\n        this.updateAnimationControlsSubscription()\n    }\n\n    update() {\n        const { animate } = this.node.getProps()\n        const { animate: prevAnimate } = this.node.prevProps || {}\n        if (animate !== prevAnimate) {\n            this.updateAnimationControlsSubscription()\n        }\n    }\n\n    unmount() {\n        this.node.animationState!.reset()\n        this.unmountControls?.()\n    }\n}\n"]},"metadata":{},"sourceType":"module"}