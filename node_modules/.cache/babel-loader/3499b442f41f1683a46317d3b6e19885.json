{"ast":null,"code":"import { camelToDash } from '../../render/dom/utils/camel-to-dash.mjs';\nimport { createSelectorEffect } from '../utils/create-dom-effect.mjs';\nimport { createEffect } from '../utils/create-effect.mjs';\n\nfunction canSetAsProperty(element, name) {\n  if (!(name in element)) return false;\n  const descriptor = Object.getOwnPropertyDescriptor(Object.getPrototypeOf(element), name) || Object.getOwnPropertyDescriptor(element, name); // Check if it has a setter\n\n  return descriptor && typeof descriptor.set === \"function\";\n}\n\nconst addAttrValue = (element, state, key, value) => {\n  const isProp = canSetAsProperty(element, key);\n  const name = isProp ? key : key.startsWith(\"data\") || key.startsWith(\"aria\") ? camelToDash(key) : key;\n  /**\n   * Set attribute directly via property if available\n   */\n\n  const render = isProp ? () => {\n    element[name] = state.latest[key];\n  } : () => {\n    const v = state.latest[key];\n\n    if (v === null || v === undefined) {\n      element.removeAttribute(name);\n    } else {\n      element.setAttribute(name, String(v));\n    }\n  };\n  return state.set(key, value, render);\n};\n\nconst attrEffect = /*@__PURE__*/createSelectorEffect( /*@__PURE__*/createEffect(addAttrValue));\nexport { addAttrValue, attrEffect };","map":{"version":3,"mappings":";;;;AAMA,SAASA,gBAAT,CAA0BC,OAA1B,EAA6DC,IAA7D,EAAyE;EACrE,IAAI,EAAEA,IAAI,IAAID,OAAV,CAAJ,EAAwB,OAAO,KAAP;EAExB,MAAME,UAAU,GACZC,MAAM,CAACC,wBAAP,CAAgCD,MAAM,CAACE,cAAP,CAAsBL,OAAtB,CAAhC,EAAgEC,IAAhE,KACAE,MAAM,CAACC,wBAAP,CAAgCJ,OAAhC,EAAyCC,IAAzC,CAFJ,CAHqE;;EAQrE,OAAOC,UAAU,IAAI,OAAOA,UAAU,CAACI,GAAlB,KAA0B,UAA/C;AACH;;AAEM,MAAMC,YAAY,GAAG,CACxBP,OADwB,EAExBQ,KAFwB,EAGxBC,GAHwB,EAIxBC,KAJwB,KAKxB;EACA,MAAMC,MAAM,GAAGZ,gBAAgB,CAACC,OAAD,EAAUS,GAAV,CAA/B;EACA,MAAMR,IAAI,GAAGU,MAAM,GACbF,GADa,GAEbA,GAAG,CAACG,UAAJ,CAAe,MAAf,KAA0BH,GAAG,CAACG,UAAJ,CAAe,MAAf,CAA1B,GACAC,WAAW,CAACJ,GAAD,CADX,GAEAA,GAJN;EAMA;;AAEG;;EACH,MAAMK,MAAM,GAAGH,MAAM,GACf,MAAK;IACCX,OAAe,CAACC,IAAD,CAAf,GAAwBO,KAAK,CAACO,MAAN,CAAaN,GAAb,CAAxB;EACL,CAHc,GAIf,MAAK;IACD,MAAMO,CAAC,GAAGR,KAAK,CAACO,MAAN,CAAaN,GAAb,CAAV;;IACA,IAAIO,CAAC,KAAK,IAAN,IAAcA,CAAC,KAAKC,SAAxB,EAAmC;MAC/BjB,OAAO,CAACkB,eAAR,CAAwBjB,IAAxB;IACH,CAFD,MAEO;MACHD,OAAO,CAACmB,YAAR,CAAqBlB,IAArB,EAA2BmB,MAAM,CAACJ,CAAD,CAAjC;IACH;EACJ,CAXP;EAaA,OAAOR,KAAK,CAACF,GAAN,CAAUG,GAAV,EAAeC,KAAf,EAAsBI,MAAtB,CAAP;AACJ,CA9BO;;AAgCM,gBAAU,gBAAiBO,oBAAoB,EACxD,aAAcC,YAAY,CAACf,YAAD,CAD8B,CAA/C","names":["canSetAsProperty","element","name","descriptor","Object","getOwnPropertyDescriptor","getPrototypeOf","set","addAttrValue","state","key","value","isProp","startsWith","camelToDash","render","latest","v","undefined","removeAttribute","setAttribute","String","createSelectorEffect","createEffect"],"sources":["C:\\Projects\\TVMazee\\node_modules\\motion-dom\\src\\effects\\attr\\index.ts"],"sourcesContent":["import { camelToDash } from \"../../render/dom/utils/camel-to-dash\"\nimport { MotionValue } from \"../../value\"\nimport { MotionValueState } from \"../MotionValueState\"\nimport { createSelectorEffect } from \"../utils/create-dom-effect\"\nimport { createEffect } from \"../utils/create-effect\"\n\nfunction canSetAsProperty(element: HTMLElement | SVGElement, name: string) {\n    if (!(name in element)) return false\n\n    const descriptor =\n        Object.getOwnPropertyDescriptor(Object.getPrototypeOf(element), name) ||\n        Object.getOwnPropertyDescriptor(element, name)\n\n    // Check if it has a setter\n    return descriptor && typeof descriptor.set === \"function\"\n}\n\nexport const addAttrValue = (\n    element: HTMLElement | SVGElement,\n    state: MotionValueState,\n    key: string,\n    value: MotionValue\n) => {\n    const isProp = canSetAsProperty(element, key)\n    const name = isProp\n        ? key\n        : key.startsWith(\"data\") || key.startsWith(\"aria\")\n        ? camelToDash(key)\n        : key\n\n    /**\n     * Set attribute directly via property if available\n     */\n    const render = isProp\n        ? () => {\n              ;(element as any)[name] = state.latest[key]\n          }\n        : () => {\n              const v = state.latest[key]\n              if (v === null || v === undefined) {\n                  element.removeAttribute(name)\n              } else {\n                  element.setAttribute(name, String(v))\n              }\n          }\n\n    return state.set(key, value, render)\n}\n\nexport const attrEffect = /*@__PURE__*/ createSelectorEffect(\n    /*@__PURE__*/ createEffect(addAttrValue)\n)\n"]},"metadata":{},"sourceType":"module"}