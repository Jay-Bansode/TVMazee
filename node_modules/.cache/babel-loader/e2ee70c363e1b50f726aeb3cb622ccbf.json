{"ast":null,"code":"import { Feature, press, frame } from 'motion-dom';\nimport { extractEventInfo } from '../events/event-info.mjs';\n\nfunction handlePressEvent(node, event, lifecycle) {\n  const {\n    props\n  } = node;\n\n  if (node.current instanceof HTMLButtonElement && node.current.disabled) {\n    return;\n  }\n\n  if (node.animationState && props.whileTap) {\n    node.animationState.setActive(\"whileTap\", lifecycle === \"Start\");\n  }\n\n  const eventName = \"onTap\" + (lifecycle === \"End\" ? \"\" : lifecycle);\n  const callback = props[eventName];\n\n  if (callback) {\n    frame.postRender(() => callback(event, extractEventInfo(event)));\n  }\n}\n\nclass PressGesture extends Feature {\n  mount() {\n    const {\n      current\n    } = this.node;\n    if (!current) return;\n    const {\n      globalTapTarget,\n      propagate\n    } = this.node.props;\n    this.unmount = press(current, (_element, startEvent) => {\n      handlePressEvent(this.node, startEvent, \"Start\");\n      return (endEvent, _ref) => {\n        let {\n          success\n        } = _ref;\n        return handlePressEvent(this.node, endEvent, success ? \"End\" : \"Cancel\");\n      };\n    }, {\n      useGlobalTarget: globalTapTarget,\n      stopPropagation: propagate?.tap === false\n    });\n  }\n\n  unmount() {}\n\n}\n\nexport { PressGesture };","map":{"version":3,"mappings":";;;AAGA,SAASA,gBAAT,CACIC,IADJ,EAEIC,KAFJ,EAGIC,SAHJ,EAGyC;EAErC,MAAM;IAAEC;EAAF,IAAYH,IAAlB;;EAEA,IAAIA,IAAI,CAACI,OAAL,YAAwBC,iBAAxB,IAA6CL,IAAI,CAACI,OAAL,CAAaE,QAA9D,EAAwE;IACpE;EACH;;EAED,IAAIN,IAAI,CAACO,cAAL,IAAuBJ,KAAK,CAACK,QAAjC,EAA2C;IACvCR,IAAI,CAACO,cAAL,CAAoBE,SAApB,CAA8B,UAA9B,EAA0CP,SAAS,KAAK,OAAxD;EACH;;EAED,MAAMQ,SAAS,GAAI,WAAWR,SAAS,KAAK,KAAd,GAAsB,EAAtB,GAA2BA,SAAtC,CAAnB;EAKA,MAAMS,QAAQ,GAAGR,KAAK,CAACO,SAAD,CAAtB;;EACA,IAAIC,QAAJ,EAAc;IACVC,KAAK,CAACC,UAAN,CAAiB,MAAMF,QAAQ,CAACV,KAAD,EAAQa,gBAAgB,CAACb,KAAD,CAAxB,CAA/B;EACH;AACJ;;AAEK,MAAOc,YAAP,SAA4BC,OAA5B,CAA4C;EAC9CC,KAAK;IACD,MAAM;MAAEb;IAAF,IAAc,KAAKJ,IAAzB;IACA,IAAI,CAACI,OAAL,EAAc;IAEd,MAAM;MAAEc,eAAF;MAAmBC;IAAnB,IAAiC,KAAKnB,IAAL,CAAUG,KAAjD;IAEA,KAAKiB,OAAL,GAAeC,KAAK,CAChBjB,OADgB,EAEhB,CAACkB,QAAD,EAAWC,UAAX,KAAyB;MACrBxB,gBAAgB,CAAC,KAAKC,IAAN,EAAYuB,UAAZ,EAAwB,OAAxB,CAAhB;MAEA,OAAO,CAACC,QAAD;QAAA,IAAW;UAAEC;QAAF,CAAX;QAAA,OACH1B,gBAAgB,CACZ,KAAKC,IADO,EAEZwB,QAFY,EAGZC,OAAO,GAAG,KAAH,GAAW,QAHN,CADb;MAAA,CAAP;IAMH,CAXe,EAYhB;MACIC,eAAe,EAAER,eADrB;MAEIS,eAAe,EAAER,SAAS,EAAES,GAAX,KAAmB;IAFxC,CAZgB,CAApB;EAiBH;;EAEDR,OAAO,IAAK;;AA1BkC","names":["handlePressEvent","node","event","lifecycle","props","current","HTMLButtonElement","disabled","animationState","whileTap","setActive","eventName","callback","frame","postRender","extractEventInfo","PressGesture","Feature","mount","globalTapTarget","propagate","unmount","press","_element","startEvent","endEvent","success","useGlobalTarget","stopPropagation","tap"],"sources":["C:\\Projects\\TVMazee\\node_modules\\framer-motion\\src\\gestures\\press.ts"],"sourcesContent":["import { Feature, frame, press, type VisualElement } from \"motion-dom\"\nimport { extractEventInfo } from \"../events/event-info\"\n\nfunction handlePressEvent(\n    node: VisualElement<Element>,\n    event: PointerEvent,\n    lifecycle: \"Start\" | \"End\" | \"Cancel\"\n) {\n    const { props } = node\n\n    if (node.current instanceof HTMLButtonElement && node.current.disabled) {\n        return\n    }\n\n    if (node.animationState && props.whileTap) {\n        node.animationState.setActive(\"whileTap\", lifecycle === \"Start\")\n    }\n\n    const eventName = (\"onTap\" + (lifecycle === \"End\" ? \"\" : lifecycle)) as\n        | \"onTapStart\"\n        | \"onTap\"\n        | \"onTapCancel\"\n\n    const callback = props[eventName]\n    if (callback) {\n        frame.postRender(() => callback(event, extractEventInfo(event)))\n    }\n}\n\nexport class PressGesture extends Feature<Element> {\n    mount() {\n        const { current } = this.node\n        if (!current) return\n\n        const { globalTapTarget, propagate } = this.node.props\n\n        this.unmount = press(\n            current,\n            (_element, startEvent) => {\n                handlePressEvent(this.node, startEvent, \"Start\")\n\n                return (endEvent, { success }) =>\n                    handlePressEvent(\n                        this.node,\n                        endEvent,\n                        success ? \"End\" : \"Cancel\"\n                    )\n            },\n            {\n                useGlobalTarget: globalTapTarget,\n                stopPropagation: propagate?.tap === false,\n            }\n        )\n    }\n\n    unmount() {}\n}\n"]},"metadata":{},"sourceType":"module"}