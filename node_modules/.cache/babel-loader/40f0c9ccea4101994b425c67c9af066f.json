{"ast":null,"code":"import { animateSingleValue, visualElementStore, animateTarget, isMotionValue } from 'motion-dom';\nimport { invariant } from 'motion-utils';\nimport { createDOMVisualElement, createObjectVisualElement } from '../utils/create-visual-element.mjs';\nimport { isDOMKeyframes } from '../utils/is-dom-keyframes.mjs';\nimport { resolveSubjects } from './resolve-subjects.mjs';\n\nfunction isSingleValue(subject, keyframes) {\n  return isMotionValue(subject) || typeof subject === \"number\" || typeof subject === \"string\" && !isDOMKeyframes(keyframes);\n}\n/**\n * Implementation\n */\n\n\nfunction animateSubject(subject, keyframes, options, scope) {\n  const animations = [];\n\n  if (isSingleValue(subject, keyframes)) {\n    animations.push(animateSingleValue(subject, isDOMKeyframes(keyframes) ? keyframes.default || keyframes : keyframes, options ? options.default || options : options));\n  } else {\n    // Gracefully handle null/undefined subjects (e.g., from querySelector returning null)\n    if (subject == null) {\n      return animations;\n    }\n\n    const subjects = resolveSubjects(subject, keyframes, scope);\n    const numSubjects = subjects.length;\n    invariant(Boolean(numSubjects), \"No valid elements provided.\", \"no-valid-elements\");\n\n    for (let i = 0; i < numSubjects; i++) {\n      const thisSubject = subjects[i];\n      const createVisualElement = thisSubject instanceof Element ? createDOMVisualElement : createObjectVisualElement;\n\n      if (!visualElementStore.has(thisSubject)) {\n        createVisualElement(thisSubject);\n      }\n\n      const visualElement = visualElementStore.get(thisSubject);\n      const transition = { ...options\n      };\n      /**\n       * Resolve stagger function if provided.\n       */\n\n      if (\"delay\" in transition && typeof transition.delay === \"function\") {\n        transition.delay = transition.delay(i, numSubjects);\n      }\n\n      animations.push(...animateTarget(visualElement, { ...keyframes,\n        transition\n      }, {}));\n    }\n  }\n\n  return animations;\n}\n\nexport { animateSubject };","map":{"version":3,"mappings":";;;;;;AA2BA,SAASA,aAAT,CACIC,OADJ,EAEIC,SAFJ,EAEsB;EAElB,OACIC,aAAa,CAACF,OAAD,CAAb,IACA,OAAOA,OAAP,KAAmB,QADnB,IAEC,OAAOA,OAAP,KAAmB,QAAnB,IAA+B,CAACG,cAAc,CAACF,SAAD,CAHnD;AAKH;AAmCD;;AAEG;;;AACG,SAAUG,cAAV,CACFJ,OADE,EASFC,SATE,EAgBFI,OAhBE,EAoBFC,KApBE,EAoBoB;EAEtB,MAAMC,UAAU,GAAwC,EAAxD;;EAEA,IAAIR,aAAa,CAACC,OAAD,EAAUC,SAAV,CAAjB,EAAuC;IACnCM,UAAU,CAACC,IAAX,CACIC,kBAAkB,CACdT,OADc,EAEdG,cAAc,CAACF,SAAD,CAAd,GACOA,SAAiB,CAACS,OAAlB,IAA6BT,SADpC,GAEMA,SAJQ,EAKdI,OAAO,GAAIA,OAAe,CAACK,OAAhB,IAA2BL,OAA/B,GAAyCA,OALlC,CADtB;EASH,CAVD,MAUO;;IAEH,IAAIL,OAAO,IAAI,IAAf,EAAqB;MACjB,OAAOO,UAAP;IACH;;IAED,MAAMI,QAAQ,GAAGC,eAAe,CAC5BZ,OAD4B,EAE5BC,SAF4B,EAG5BK,KAH4B,CAAhC;IAMA,MAAMO,WAAW,GAAGF,QAAQ,CAACG,MAA7B;IAEAC,SAAS,CACLC,OAAO,CAACH,WAAD,CADF,EAEL,6BAFK,EAGL,mBAHK,CAAT;;IAMA,KAAK,IAAII,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGJ,WAApB,EAAiCI,CAAC,EAAlC,EAAsC;MAClC,MAAMC,WAAW,GAAGP,QAAQ,CAACM,CAAD,CAA5B;MAEA,MAAME,mBAAmB,GACrBD,WAAW,YAAYE,OAAvB,GACMC,sBADN,GAEMC,yBAHV;;MAKA,IAAI,CAACC,kBAAkB,CAACC,GAAnB,CAAuBN,WAAvB,CAAL,EAA0C;QACtCC,mBAAmB,CAACD,WAAD,CAAnB;MACH;;MAED,MAAMO,aAAa,GAAGF,kBAAkB,CAACG,GAAnB,CAAuBR,WAAvB,CAAtB;MACA,MAAMS,UAAU,GAAG,EAAE,GAAGtB;MAAL,CAAnB;MAEA;;AAEG;;MACH,IACI,WAAWsB,UAAX,IACA,OAAOA,UAAU,CAACC,KAAlB,KAA4B,UAFhC,EAGE;QACED,UAAU,CAACC,KAAX,GAAmBD,UAAU,CAACC,KAAX,CAAiBX,CAAjB,EAAoBJ,WAApB,CAAnB;MACH;;MAEDN,UAAU,CAACC,IAAX,CACI,GAAGqB,aAAa,CACZJ,aADY,EAEZ,EAAE,GAAIxB,SAAN;QAAwB0B;MAAxB,CAFY,EAGZ,EAHY,CADpB;IAOH;EACJ;;EAED,OAAOpB,UAAP;AACJ","names":["isSingleValue","subject","keyframes","isMotionValue","isDOMKeyframes","animateSubject","options","scope","animations","push","animateSingleValue","default","subjects","resolveSubjects","numSubjects","length","invariant","Boolean","i","thisSubject","createVisualElement","Element","createDOMVisualElement","createObjectVisualElement","visualElementStore","has","visualElement","get","transition","delay","animateTarget"],"sources":["C:\\Projects\\TVMazee\\node_modules\\framer-motion\\src\\animation\\animate\\subject.ts"],"sourcesContent":["import {\n    animateTarget,\n    AnimationPlaybackControlsWithThen,\n    AnimationScope,\n    AnyResolvedKeyframe,\n    DOMKeyframesDefinition,\n    AnimationOptions as DynamicAnimationOptions,\n    ElementOrSelector,\n    isMotionValue,\n    MotionValue,\n    TargetAndTransition,\n    UnresolvedValueKeyframe,\n    ValueAnimationTransition,\n    visualElementStore,\n} from \"motion-dom\"\nimport { invariant } from \"motion-utils\"\nimport { ObjectTarget } from \"../sequence/types\"\nimport {\n    createDOMVisualElement,\n    createObjectVisualElement,\n} from \"../utils/create-visual-element\"\nimport { isDOMKeyframes } from \"../utils/is-dom-keyframes\"\nimport { resolveSubjects } from \"./resolve-subjects\"\nimport { animateSingleValue } from \"motion-dom\"\n\nexport type AnimationSubject = Element | MotionValue<any> | any\n\nfunction isSingleValue(\n    subject: unknown,\n    keyframes: unknown\n): subject is MotionValue | AnyResolvedKeyframe {\n    return (\n        isMotionValue(subject) ||\n        typeof subject === \"number\" ||\n        (typeof subject === \"string\" && !isDOMKeyframes(keyframes))\n    )\n}\n\n/**\n * Animate a string\n */\nexport function animateSubject(\n    value: string | MotionValue<string>,\n    keyframes: string | UnresolvedValueKeyframe<string>[],\n    options?: ValueAnimationTransition<string>\n): AnimationPlaybackControlsWithThen[]\n/**\n * Animate a number\n */\nexport function animateSubject(\n    value: number | MotionValue<number>,\n    keyframes: number | UnresolvedValueKeyframe<number>[],\n    options?: ValueAnimationTransition<number>\n): AnimationPlaybackControlsWithThen[]\n/**\n * Animate a Element\n */\nexport function animateSubject(\n    element: ElementOrSelector,\n    keyframes: DOMKeyframesDefinition,\n    options?: DynamicAnimationOptions,\n    scope?: AnimationScope\n): AnimationPlaybackControlsWithThen[]\n/**\n * Animate a object\n */\nexport function animateSubject<O extends Object>(\n    object: O | O[],\n    keyframes: ObjectTarget<O>,\n    options?: DynamicAnimationOptions\n): AnimationPlaybackControlsWithThen[]\n/**\n * Implementation\n */\nexport function animateSubject<O extends Object>(\n    subject:\n        | MotionValue<number>\n        | MotionValue<string>\n        | number\n        | string\n        | ElementOrSelector\n        | O\n        | O[],\n    keyframes:\n        | number\n        | string\n        | UnresolvedValueKeyframe<number>[]\n        | UnresolvedValueKeyframe<string>[]\n        | DOMKeyframesDefinition\n        | ObjectTarget<O>,\n    options?:\n        | ValueAnimationTransition<number>\n        | ValueAnimationTransition<string>\n        | DynamicAnimationOptions,\n    scope?: AnimationScope\n): AnimationPlaybackControlsWithThen[] {\n    const animations: AnimationPlaybackControlsWithThen[] = []\n\n    if (isSingleValue(subject, keyframes)) {\n        animations.push(\n            animateSingleValue(\n                subject,\n                isDOMKeyframes(keyframes)\n                    ? (keyframes as any).default || keyframes\n                    : keyframes,\n                options ? (options as any).default || options : options\n            )\n        )\n    } else {\n        // Gracefully handle null/undefined subjects (e.g., from querySelector returning null)\n        if (subject == null) {\n            return animations\n        }\n\n        const subjects = resolveSubjects(\n            subject,\n            keyframes as DOMKeyframesDefinition,\n            scope\n        )\n\n        const numSubjects = subjects.length\n\n        invariant(\n            Boolean(numSubjects),\n            \"No valid elements provided.\",\n            \"no-valid-elements\"\n        )\n\n        for (let i = 0; i < numSubjects; i++) {\n            const thisSubject = subjects[i]\n\n            const createVisualElement =\n                thisSubject instanceof Element\n                    ? createDOMVisualElement\n                    : createObjectVisualElement\n\n            if (!visualElementStore.has(thisSubject)) {\n                createVisualElement(thisSubject as any)\n            }\n\n            const visualElement = visualElementStore.get(thisSubject)!\n            const transition = { ...options }\n\n            /**\n             * Resolve stagger function if provided.\n             */\n            if (\n                \"delay\" in transition &&\n                typeof transition.delay === \"function\"\n            ) {\n                transition.delay = transition.delay(i, numSubjects)\n            }\n\n            animations.push(\n                ...animateTarget(\n                    visualElement,\n                    { ...(keyframes as {}), transition } as TargetAndTransition,\n                    {}\n                )\n            )\n        }\n    }\n\n    return animations\n}\n"]},"metadata":{},"sourceType":"module"}